@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 font-sans;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-md transition-colors duration-200;
  }

  .btn-primary {
    @apply bg-indigo-700 text-white hover:bg-indigo-800;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300;
  }

  .input {
    @apply px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500;
  }

  .card {
    @apply bg-white shadow-md rounded-lg p-6;
  }

  .japanese-pattern {
    background-color: #f3f4f6;
    background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M0 20L20 0v20L0 40z'/%3E%3Cpath d='M20 20L40 0v20L20 40z'/%3E%3C/g%3E%3C/svg%3E");
  }
}
import React, { useState } from 'react';
import { Bar, Line } from 'react-chartjs-2';
import { Chart as ChartJS, CategoryScale, LinearScale, BarElement, LineElement, Title, Tooltip, Legend, PointElement } from 'chart.js';

ChartJS.register(CategoryScale, LinearScale, BarElement, LineElement, Title, Tooltip, Legend, PointElement);

const Dashboard = () => {
  const [activeTab, setActiveTab] = useState('overview');

  const barChartData = {
    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
    datasets: [
      {
        label: 'デバイス数',
        data: [65, 59, 80, 81, 56, 55],
        backgroundColor: 'rgba(75, 192, 192, 0.6)',
      },
      {
        label: 'SaaSアプリ数',
        data: [28, 48, 40, 19, 86, 27],
        backgroundColor: 'rgba(153, 102, 255, 0.6)',
      },
    ],
  };

  const lineChartData = {
    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
    datasets: [
      {
        label: 'コスト最適化',
        data: [12, 19, 3, 5, 2, 3],
        borderColor: 'rgb(255, 99, 132)',
        backgroundColor: 'rgba(255, 99, 132, 0.5)',
      },
    ],
  };

  return (
    <div className="container mx-auto px-4 py-8">
      <h1 className="text-3xl font-bold mb-8 text-indigo-900">デジタル職人ダッシュボード</h1>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div className="card japanese-pattern">
          <h2 className="text-xl font-semibold mb-4">総デバイス数</h2>
          <p className="text-4xl font-bold text-indigo-700">1,234</p>
        </div>
        <div className="card japanese-pattern">
          <h2 className="text-xl font-semibold mb-4">総SaaSアプリ数</h2>
          <p className="text-4xl font-bold text-indigo-700">56</p>
        </div>
        <div className="card japanese-pattern">
          <h2 className="text-xl font-semibold mb-4">月間コスト削減</h2>
          <p className="text-4xl font-bold text-green-600">¥1,500,000</p>
        </div>
      </div>
      <div className="mb-8">
        <div className="flex border-b border-gray-200">
          <button
            className={`py-2 px-4 ${activeTab === 'overview' ? 'border-b-2 border-indigo-500 text-indigo-600' : 'text-gray-500'}`}
            onClick={() => setActiveTab('overview')}
          >
            概要
          </button>
          <button
            className={`py-2 px-4 ${activeTab === 'details' ? 'border-b-2 border-indigo-500 text-indigo-600' : 'text-gray-500'}`}
            onClick={() => setActiveTab('details')}
          >
            詳細
          </button>
        </div>
        <div className="mt-4">
          {activeTab === 'overview' ? (
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="card">
                <h3 className="text-lg font-semibold mb-4">デバイスとSaaSアプリ推移</h3>
                <Bar data={barChartData} />
              </div>
              <div className="card">
                <h3 className="text-lg font-semibold mb-4">コスト最適化推移</h3>
                <Line data={lineChartData} />
              </div>
            </div>
          ) : (
            <div className="card">
              <h3 className="text-lg font-semibold mb-4">詳細情報</h3>
              <table className="w-full">
                <thead>
                  <tr className="bg-gray-100">
                    <th className="py-2 px-4 text-left">項目</th>
                    <th className="py-2 px-4 text-left">値</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td className="py-2 px-4">アクティブユーザー</td>
                    <td className="py-2 px-4">789</td>
                  </tr>
                  <tr>
                    <td className="py-2 px-4">セキュリティアラート</td>
                    <td className="py-2 px-4">12</td>
                  </tr>
                  <tr>
                    <td className="py-2 px-4">ライセンス使用率</td>
                    <td className="py-2 px-4">87%</td>
                  </tr>
                </tbody>
              </table>
            </div>
          )}
        </div>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div className="card">
          <h2 className="text-xl font-semibold mb-4">最近のアラート</h2>
          <ul className="space-y-2">
            <li className="flex items-center text-red-600">
              <span className="w-2 h-2 bg-red-600 rounded-full mr-2"></span>
              新しいシャドーITアプリケーションが検出されました
            </li>
            <li className="flex items-center text-yellow-600">
              <span className="w-2 h-2 bg-yellow-600 rounded-full mr-2"></span>
              5つのデバイスがセキュリティアップデートを必要としています
            </li>
            <li className="flex items-center text-green-600">
              <span className="w-2 h-2 bg-green-600 rounded-full mr-2"></span>
              今月のコスト最適化目標を達成しました
            </li>
          </ul>
        </div>
        <div className="card">
          <h2 className="text-xl font-semibold mb-4">クイックアクション</h2>
          <div className="space-y-2">
            <button className="btn btn-primary w-full">デバイスインベントリを更新</button>
            <button className="btn btn-secondary w-full">セキュリティレポートを生成</button>
            <button className="btn btn-secondary w-full">ライセンス使用状況を分析</button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Dashboard;